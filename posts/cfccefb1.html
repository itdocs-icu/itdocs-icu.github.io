<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

    
      <link rel="icon" href="/favicon.png" />
    

    <title>
        
          Ambari离线安装大数据集群 - Docs`Blog
        
    </title>

    <!-- Spectre.css framework -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/spectre.css/0.5.9/spectre.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/spectre.css/0.5.9/spectre-exp.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/spectre.css/0.5.9/spectre-icons.min.css">

    <!-- theme css & js -->
    
<link rel="stylesheet" href="/css/book.css">

    
<link rel="stylesheet" href="/css/mdicon.css">

    
<script src="/js/book.js"></script>

    
<script src="/js/jquery.min.js"></script>

<!--   之前的code复制按钮  
<script src="/js/clipboard.min.js"></script>
-->
<!--    code-->
    
<link rel="stylesheet" href="/css/prism.css">

    
<script src="/js/prism.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async></script>


    
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>

    
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>

    <!-- tocbot -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">


    <!-- katex -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">

    
<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'G-3FTL9QWCS6', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/zooming/2.1.1/zooming.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const zooming = new Zooming()
    zooming.listen('.book-content img')
})
</script>


<meta name="generator" content="Hexo 5.4.0"></head>


<body>

<div class="book-container">
  <div class="book-sidebar">
    <div class="book-brand">
  <a href="/">
    <img src="/favicon.png">
    <span>DOCS`BLOG</span>
  </a>
</div>
    <div class="tree" id="tree">
    <input id="search-input" class="search-input" type="text" placeholder="search...">
    

    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Linux
                </a>
                
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Centos
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/f593e9b1.html">
                    如何正确的升级node版本
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/a958f1c0.html">
                    mysql开启binlog
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/989ce8de.html">
                    安装gitla社区版
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/227d5864.html">
                    mysql不同版本密码修改
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/94a8894b.html">
                    yum安装mysql
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/ddac911d.html">
                    Centos网卡异常解决方案
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/f593e9b1.html">
                    如何正确的升级node版本
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/6c7ba768.html">
                    mysql版本导致登录失败
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/a958f1c0.html">
                    mysql开启binlog
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/989ce8de.html">
                    安装GitLabCE
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/227d5864.html">
                    mysql不同版本密码修改
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/4ce19a20.html">
                    vim如何复制到系统剪切板
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Tips
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/4ce19a20.html">
                    如何将Vim剪贴板里面的东西粘贴到Vim之外的地方
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/c2bdb00f.html">
                    nvm安装和使用
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/c8f03141.html">
                    不得不收藏的日常命令
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/ef074418.html">
                    Screen使用
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/1c16840d.html">
                    查看Linux端口占用并Kill掉
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/b2579617.html">
                    SocketTimeout完美解决方案
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/6d271f4a.html">
                    Node安装指定版本
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/8f994908.html">
                    SFTP使用方法
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/d43cebaa.html">
                    卸载删除windows服务
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/7ea9f75b.html">
                    网站打开testing
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/c2bdb00f.html">
                    nvm安装和使用
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/94a8894b.html">
                    yum安装mysql
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/c8f03141.html">
                    不得不收藏的日常命令
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/1c16840d.html">
                    查看Linux端口占用
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/5201ae1d.html">
                    Linux过滤文件中无用的内容
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/b2d2ad38.html">
                    Linux批量更改文件后缀名
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/da4bfcc1.html">
                    Screen说明
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/b2579617.html">
                    SocketTimeout完美解决方案
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/4d7b3137.html">
                    如何在服务器查看公网ip
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/6d271f4a.html">
                    Node安装指定版本
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/8f994908.html">
                    sftp常用命令使用
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/d43cebaa.html">
                    怎么卸载windows服务
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/ddac911d.html">
                    Centos网卡异常解决方案
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    DataBase
                </a>
                
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Mysql
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/null.html">
                    Docker安装Mysql
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/3c10e2ca.html">
                    Navicat链接Mysql
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Tools
                </a>
                
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Docker
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/null.html">
                    Docker安装Mysql
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/e1edea63.html">
                    docker服务重启
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/ad5641b0.html">
                    Docker常用命令总结与介绍
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/8224ad28.html">
                    compose使用介绍
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/3328c18c.html">
                    Docker查看容器IP
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/8185c0b3.html">
                    Docker删除镜像
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/ff40acb.html">
                    Docker打包镜像
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/eeae9da3.html">
                    DockerCP命令拷贝文件
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/dd0ea551.html">
                    Docker中安装vim
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/6b788e8e.html">
                    为什么使用Docker
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/ed05a2e1.html">
                    MacOS安装Docker
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/dbc6f637.html">
                    sublime激活
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Obsidian
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/d6428e0c.html">
                    Obs中配置图床
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Mac
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/a3ab6ab7.html">
                    SublimeText快捷键
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/99c9d018.html">
                    mac下iterm2终端安装rzsz命令方法
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/7a9c72b2.html">
                    Mac安装Mysql
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/87c4f94b.html">
                    alias
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Server
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/7a9c72b2.html">
                    Mac安装Mysql
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/b2579617.html">
                    SocketTimeout完美解决方案
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/6d271f4a.html">
                    Node安装指定版本
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/8f994908.html">
                    SFTP使用方法
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/d43cebaa.html">
                    卸载删除windows服务
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/73299399.html">
                    JumpServer
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Git
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/aed9e9a.html">
                    Git克隆失败(-54)
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/27f6bca1.html">
                    Git代码提交规范
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/3eb6a5c9.html">
                    Gitlab
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Vmware
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/ddac911d.html">
                    Centos网卡异常解决方案
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Mysql
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/6c7ba768.html">
                    mysql版本导致登录失败
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Python
                </a>
                
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    pip
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/74924737.html">
                    Python获得24小时List的方法
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/4a2d1ba8.html">
                    pip源管理
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/c8168d18.html">
                    正则截取特定字符中间字符
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/86d8d5ed.html">
                    xml_str转json
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/a55ee731.html">
                    Python一键安装全部依赖包
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/55026eee.html">
                    Python的Str和dict互转
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/8cb92695.html">
                    批量修改文件名
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    FastApi
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/b3de806d.html">
                    如何动态更新配置文件
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Tips
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/b3de806d.html">
                    Python使用信号量动态更新配置文件
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/a55ee731.html">
                    Python一键安装全部依赖包
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/55026eee.html">
                    Python的Str和dict互转
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/8cb92695.html">
                    批量修改文件名
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Tensorflow
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/48120bab.html">
                    Tensorflow联邦学习平台搭建
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Blog
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/177b0cf5.html">
                    mkdocs使用material主题美化
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    MkDocs
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/177b0cf5.html">
                    mkdocs换主题
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/b553abaf.html">
                    mkdocs静态博客
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/b553abaf.html">
                    MkDocs文档工具使用
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/db1fa1a3.html">
                    使用docker安装codimd
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Dev
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/db1fa1a3.html">
                    CoidMD在线协作MD编辑器
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/a56fd7be.html">
                    mkdocs搭建使用
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/6374189d.html">
                    MarkDown
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/90501bcc.html">
                    Hexo站点
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Web
                </a>
                
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Vite
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/3749a5d6.html">
                    搭建第一个Vite项目
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Vue
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/ba702d25.html">
                    vue-cli脚手架
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Apache
                </a>
                
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Hive
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/dad0c3fc.html">
                    认识Hive
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/1a42f8cf.html">
                    Hive分桶表
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/51c86388.html">
                    HiveQL函数-09
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/5d6806ac.html">
                    Hive参数优化
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/787960b2.html">
                    Hive元数据
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/ffffb2e9.html">
                    HiveQL索引
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/70c09e22.html">
                    HiveQL视图
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/f0391331.html">
                    HiveQL数据查询-04
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/e0c0edfd.html">
                    HiveQL数据操作-03
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/fb9aadad.html">
                    HiveQL数据定义-02
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/18bfcb46.html">
                    Hive的简介-01
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/bbae3177.html">
                    Hive修复分区
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Hadoop
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/1e0caca5.html">
                    Hadoop的基本操作
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/f23f9ebb.html">
                    Cloudera登录使用
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/30eb9bf9.html">
                    Cloudera平台搭建使用
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/3762b1a0.html">
                    Amabri权限问题
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file active">
                <a href="/posts/cfccefb1.html">
                    Ambari搭建集群
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    商业化
                </a>
                
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    广告
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/8ae47aa6.html">
                    广告全链路
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/fca0e48c.html">
                    互联网的半壁江山
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/b4bce7a2.html">
                    互联网广告专业术语
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Docker
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/e1edea63.html">
                    Docker服务重启
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/ad5641b0.html">
                    Docker快速使用
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/8224ad28.html">
                    DockerCompose使用
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/21ba7853.html">
                    安装DockerCompose
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/3328c18c.html">
                    Docker查看容器IP
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/8185c0b3.html">
                    Docker删除镜像
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/ff40acb.html">
                    Docker打包镜像
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/eeae9da3.html">
                    DockerCP命令拷贝文件
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/dd0ea551.html">
                    Docker中安装vim
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/6b788e8e.html">
                    为什么使用Docker
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/ed05a2e1.html">
                    MacOS安装Docker
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Git
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/aed9e9a.html">
                    Git克隆失败(-54)
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
        <ul>
            <li class="file">
                <a href="/posts/27f6bca1.html">
                    Git代码提交规范
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Other
                </a>
                
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Feel
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/f41c51aa.html">
                    工作方式
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Web
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/7ea9f75b.html">
                    网站打开testing
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
            </li>

        </ul>
    
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    Java
                </a>
                
        <ul>
            <li class="directory">
                <a class="directory">
                    <i class="material-icons">keyboard_arrow_right</i>
                    JavaSE
                </a>
                
        <ul>
            <li class="file">
                <a href="/posts/17415.html">
                    01、Java环境
                </a>
            </li>
            <div class="article-toc" style="display: none;"></div>
        </ul>
    
            </li>

        </ul>
    
            </li>

        </ul>
    
</div>



<script src="/js/book-menu.js"></script>


  </div>

  <div class="sidebar-toggle" onclick="sidebar_toggle()" onmouseover="add_inner()" onmouseleave="remove_inner()">
  <div class="sidebar-toggle-inner"></div>
</div>

<script>
function add_inner() {
  let inner = document.querySelector('.sidebar-toggle-inner')
  inner.classList.add('show')
}

function remove_inner() {
  let inner = document.querySelector('.sidebar-toggle-inner')
  inner.classList.remove('show')
}

function sidebar_toggle() {
    let sidebar_toggle = document.querySelector('.sidebar-toggle')
    let sidebar = document.querySelector('.book-sidebar')
    let content = document.querySelector('.off-canvas-content')
    if (sidebar_toggle.classList.contains('extend')) { // show
        sidebar_toggle.classList.remove('extend')
        sidebar.classList.remove('hide')
        content.classList.remove('extend')
    }
    else { // hide
        sidebar_toggle.classList.add('extend')
        sidebar.classList.add('hide')
        content.classList.add('extend')
    }
}
</script>


  <div class="off-canvas-content">
    <div class="columns">
      <div class="column col-10 col-lg-12">
        <div class="book-navbar">
          <!-- For Responsive Layout -->

<header class="navbar">
  <section class="navbar-section">
    <a onclick="open_sidebar()">
      <i class="icon icon-menu"></i>
    </a>
  </section>
</header>

        </div>
        <div class="book-content">
          <div class="book-post">
  <h2 id="Ambari-离线安装大数据集群">Ambari 离线安装大数据集群</h2>
<blockquote>
<p><code>Ambari</code> 系列搭建集群的教程。 小编带你一步步躺坑，带你完全从小白系列搭建一套属于自己的<strong>大数据集群</strong>。</p>
</blockquote>
<p><strong>如下大纲：</strong></p>
<p><img src="https://bu.dusays.com/2021/01/14/8c9c570d1eb77.png" alt=""></p>
<h2 id="环境准备">环境准备</h2>
<h3 id="安装环境">安装环境</h3>
<p><code>Centos</code> 最小化安装：各个节点进行：网络配置(Nat 模式且可以共享主机网络)</p>
<p>环境部分，所有节点都要做！！！</p>
<pre class="line-numbers language-yacas" data-language="yacas"><code class="language-yacas">-  Master 6G 2C 60G
-  Node1 4G 1C 50G
-  Node2 4G 1C 50G<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="修改IP">修改IP</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 修改命令</span>
<span class="token function">vi</span> /etc/sysconfig/network-scripts/ifcfg-ens32 

<span class="token comment"># 内容如下</span>
<span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Ethernet
<span class="token assign-left variable">PROXY_METHOD</span><span class="token operator">=</span>none
<span class="token assign-left variable">BROWSER_ONLY</span><span class="token operator">=</span>no
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>dhcp    --- 动态ip
<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span>yes
<span class="token assign-left variable">NAME</span><span class="token operator">=</span>ens32
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>ens32
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes		 ---自动获取
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.6.5
<span class="token assign-left variable">NETMASK</span><span class="token operator">=</span><span class="token number">255.255</span>.255.0

00:0C:29:08:17:A9

<span class="token comment">#重启网络</span>
<span class="token function">service</span> network restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="修改主机名">修改主机名</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 命令修改</span>
hostnamectl set-hostname Master.hadoop
hostnamectl set-hostname Node1.hadoop
hostnamectl set-hostname Node2.hadoop

<span class="token comment"># 修改文件</span>
<span class="token function">vi</span> /etc/hosts

<span class="token number">192.168</span>.6.5 Master.hadoop 
<span class="token number">192.168</span>.6.6 Node1.hadoop 
<span class="token number">192.168</span>.6.8 Node2.hadoop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="免密登录">免密登录</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 生成密钥</span>
ssh-keygen

<span class="token comment"># 免密配置</span>
ssh-copy-id -i /root/.ssh/id_rsa.pub Master.hadoop
ssh-copy-id -i /root/.ssh/id_rsa.pub Node1.hadoop
ssh-copy-id -i /root/.ssh/id_rsa.pub Node2.hadoop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="防火墙">防火墙</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 关闭防火墙</span>
systemctl disable firewalld
systemctl stop firewall

<span class="token comment">#关闭SELinux</span>

临时关闭，不用重启机器：
setenforce <span class="token number">0</span>
修改配置文件需要重启机器：
<span class="token function">vi</span> /etc/sysconfig/selinux
<span class="token assign-left variable">SELINUX</span><span class="token operator">=</span>disabled

<span class="token comment"># 查看SELinux状态</span>
sestatus
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="安装Httpd">安装Httpd</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#安装 Apache HTTP 服务器</span>
<span class="token comment">#安装HTTP 服务器，允许 http 服务通过防火墙(永久)</span>

<span class="token punctuation">[</span>root@Master ~<span class="token punctuation">]</span><span class="token comment"># yum install httpd</span>
<span class="token punctuation">[</span>root@Master ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --add-service=http </span>
<span class="token punctuation">[</span>root@Master ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --permanent --add-service=http</span>

添加 Apache 服务到系统层使其随系统自动启动
<span class="token punctuation">[</span>root@Master ~<span class="token punctuation">]</span><span class="token comment"># systemctl start httpd.service</span>
<span class="token punctuation">[</span>root@Master ~<span class="token punctuation">]</span><span class="token comment"># systemctl enable httpd.service</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="开启NTP">开启NTP</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 开启NTP服务</span>
<span class="token punctuation">[</span>root@Master ~<span class="token punctuation">]</span><span class="token comment">#yum install ntp</span>
<span class="token punctuation">[</span>root@Master ~<span class="token punctuation">]</span><span class="token comment">#systemctl is-enabled ntpd</span>
disabled
<span class="token punctuation">[</span>root@Master ~<span class="token punctuation">]</span><span class="token comment">#systemctl enable ntpd</span>
Created symlink from /etc/systemd/system/multi-user.target.wants/ntpd.service to /usr/lib/systemd/system/ntpd.service.
<span class="token punctuation">[</span>root@Master ~<span class="token punctuation">]</span><span class="token comment">#systemctl start ntpd</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="JDK">JDK</h3>
<h4 id="Master安装">Master安装</h4>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 解压下载压缩包</span>
<span class="token function">tar</span> xf jdk-8u144-linux-x64.tar.gz -C /usr/local/

<span class="token comment"># 修改环境变量</span>
<span class="token function">vi</span> /etc/profile

<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/local/jdk1.8.0_144/
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar

<span class="token comment"># 刷新环境</span>
<span class="token builtin class-name">source</span> /etc/profile

<span class="token comment"># 查看</span>
java -version
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="Scp脚本">Scp脚本</h4>
<blockquote>
<p>同步到 Node1，Node2, 可以到Node…N</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 编写脚本如下：</span>
<span class="token function">vi</span> scp.sh

<span class="token comment">#!/bin/bash</span>
<span class="token function">cat</span> <span class="token function">host</span> <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token builtin class-name">read</span> <span class="token function">host</span>
<span class="token keyword">do</span>
<span class="token punctuation">&#123;</span>
    <span class="token function">scp</span> -r <span class="token variable">$1</span> <span class="token variable">$host</span><span class="token builtin class-name">:</span><span class="token variable">$2</span>
<span class="token punctuation">&#125;</span><span class="token operator">&amp;</span><span class="token function">wait</span>
<span class="token keyword">done</span>

<span class="token comment"># 编写host 文件,注意与scp.sh 放到一个路径下</span>
<span class="token function">vi</span> <span class="token function">host</span>

Node1.hadoop
Node2.hadoop


利用shell拷贝
 <span class="token function">sh</span> scp.sh /usr/local/jdk1.8.0_144/ /usr/local/jdk1.8.0_144/
 <span class="token function">sh</span> scp.sh /etc/profile /etc/
 
 使环境变量生效（全执行）
 <span class="token builtin class-name">source</span> /etc/profile
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="时区同步">时区同步</h3>
<blockquote>
<p>修改完之后记得重启。 reboot</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 查看时区</span>
<span class="token function">date</span>
ll  /etc/localtime

<span class="token comment"># 修改</span>
timedatectl set-timezone <span class="token string">'Asia/Shanghai'</span>
timedatectl 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Amabri源">Amabri源</h2>
<h3 id="添加Amabri用户">添加Amabri用户</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">adduser ambari
<span class="token function">passwd</span> ambari<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="安装本地源制作工具">安装本地源制作工具</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> yum-utils createrepo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="下载Amabri-HDP源">下载Amabri-HDP源</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#本部分小编已经传到云盘,如有需要联系小编</span>

<span class="token comment"># 创建Amabri文件夹</span>
<span class="token function">mkdir</span> ambari

<span class="token comment"># 进入文件夹 </span>
<span class="token builtin class-name">cd</span> ambari

<span class="token comment"># 将下载的Amabri源放到ambari文件夹中,可以使用FZ 等工具上传较快</span>
<span class="token comment"># 上传完成之后,解压到web服务路径</span>

 <span class="token function">tar</span> xf ambari-2.6.0.0-centos7.tar.gz -C /var/www/html/ambari/
 
 <span class="token function">tar</span> xf HDP-2.6.3.0-centos7-rpm.tar.gz -C /var/www/html/ambari/
 
<span class="token function">tar</span> xf HDP-UTILS-1.1.0.21-centos7.tar.gz -C /var/www/html/ambari/HDP-UTILS/

<span class="token comment"># 访问本地源  更改为自己的 ip</span>
http://192.168.6.5/ambari/
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://bu.dusays.com/2021/01/14/d1b3f89d5787f.png" alt=""></p>
<h3 id="配置yum源">配置yum源</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 进入yum路径</span>
<span class="token builtin class-name">cd</span>  /etc/yum.repos.d/

<span class="token comment"># 配置Amabri-yum 源</span>
 <span class="token function">vi</span> ambari.repo
 
 <span class="token comment">#VERSION_NUMBER=2.6.3.0-235</span>
<span class="token punctuation">[</span>HDP-2.6.3.0<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>HDP Version - HDP-2.6.3.0
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://192.168.6.5/ambari/HDP/centos7/2.6.3.0-235
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://192.168.6.5/ambari/HDP/centos7/2.6.3.0-235/RPM-GPG-KEY/RPM-GPG-KEY-Jenkins
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">priority</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token punctuation">[</span>HDP-UTILS-1.1.0.21<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>HDP Utils Version - HDP-UTILS-1.1.0.21
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://192.168.6.5/ambari/HDP-UTILS
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://192.168.6.5/ambari/HDP-UTILS/RPM-GPG-KEY/RPM-GPG-KEY-Jenkins
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">priority</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># 配置HDP-repo 源</span>
 <span class="token function">vi</span> hdp.repo
 
 <span class="token comment">#VERSION_NUMBER=2.6.3.0-235</span>
<span class="token punctuation">[</span>HDP-2.6.3.0<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>HDP Version - HDP-2.6.3.0
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://192.168.6.5/ambari/HDP/centos7/2.6.3.0-235
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://192.168.6.5/ambari/HDP/centos7/2.6.3.0-235/RPM-GPG-KEY/RPM-GPG-KEY-Jenkins
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">priority</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token punctuation">[</span>HDP-UTILS-1.1.0.21<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>HDP Utils Version - HDP-UTILS-1.1.0.21
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://192.168.6.5/ambari/HDP-UTILS
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://192.168.6.5/ambari/HDP-UTILS/RPM-GPG-KEY/RPM-GPG-KEY-Jenkins
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">priority</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># yum更新一下</span>
 yum clean all
 yum list update
 yum makecache
 yum repolist<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="安装Mysql">安装Mysql</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># yum安装</span>
yum <span class="token function">install</span> mariadb-server

<span class="token comment"># 启动</span>
 systemctl start mariadb
 systemctl <span class="token builtin class-name">enable</span> mariadb
 mysql_secure_installation
 
 <span class="token punctuation">[</span>root@Master ~<span class="token punctuation">]</span><span class="token comment"># mysql_secure_installation</span>
<span class="token comment">#首先是设置密码，会提示先输入密码</span>
Enter current password <span class="token keyword">for</span> root <span class="token punctuation">(</span>enter <span class="token keyword">for</span> none<span class="token punctuation">)</span>:<span class="token operator">&lt;</span>–初次运行直接回车
<span class="token comment">#设置密码</span>
Set root password? <span class="token punctuation">[</span>Y/n<span class="token punctuation">]</span> <span class="token operator">&lt;</span>– 是否设置root用户密码，输入y并回车或直接回车
New password: <span class="token operator">&lt;</span>– 设置root用户的密码
Re-enter new password: <span class="token operator">&lt;</span>– 再输入一次你设置的密码
<span class="token comment">#其他配置</span>
Remove anonymous users? <span class="token punctuation">[</span>Y/n<span class="token punctuation">]</span> <span class="token operator">&lt;</span>– 是否删除匿名用户，回车
Disallow root login remotely? <span class="token punctuation">[</span>Y/n<span class="token punctuation">]</span> <span class="token operator">&lt;</span>–是否禁止root远程登录,回车,
Remove <span class="token builtin class-name">test</span> database and access to it? <span class="token punctuation">[</span>Y/n<span class="token punctuation">]</span> <span class="token operator">&lt;</span>– 是否删除test数据库，回车
Reload privilege tables now? <span class="token punctuation">[</span>Y/n<span class="token punctuation">]</span> <span class="token operator">&lt;</span>– 是否重新加载权限表，回车
<span class="token comment">#初始化MariaDB完成，接下来测试登录，输入密码能正常登陆就完成了</span>
 
 <span class="token comment"># 安装完成后创建ambari数据库及用户，登录数据库root用户执行下面语句：</span>
<span class="token punctuation">[</span>root@Master ~<span class="token punctuation">]</span><span class="token comment"># mysql -uroot -p</span>
create database ambari character <span class="token builtin class-name">set</span> utf8 <span class="token punctuation">;</span>  
CREATE <span class="token environment constant">USER</span> <span class="token string">'ambari'</span>@<span class="token string">'%'</span>IDENTIFIED BY <span class="token string">'123456'</span><span class="token punctuation">;</span>
GRANT ALL PRIVILEGES ON *.* TO <span class="token string">'ambari'</span>@<span class="token string">'%'</span><span class="token punctuation">;</span>
FLUSH PRIVILEGES<span class="token punctuation">;</span>
<span class="token comment"># 如果要安装Hive，再创建Hive数据库和用户 再执行下面的语句：</span>
create database hive character <span class="token builtin class-name">set</span> utf8 <span class="token punctuation">;</span>  
CREATE <span class="token environment constant">USER</span> <span class="token string">'hive'</span>@<span class="token string">'%'</span>IDENTIFIED BY <span class="token string">'123456'</span><span class="token punctuation">;</span>
GRANT ALL PRIVILEGES ON *.* TO <span class="token string">'hive'</span>@<span class="token string">'%'</span><span class="token punctuation">;</span>
FLUSH PRIVILEGES<span class="token punctuation">;</span>

<span class="token comment"># 如果要安装Oozie，再创建Oozie数据库和用户 再执行下面的语句：</span>
create database oozie character <span class="token builtin class-name">set</span> utf8 <span class="token punctuation">;</span>  
CREATE <span class="token environment constant">USER</span> <span class="token string">'oozie'</span>@<span class="token string">'%'</span>IDENTIFIED BY <span class="token string">'123456'</span><span class="token punctuation">;</span>
GRANT ALL PRIVILEGES ON *.* TO <span class="token string">'oozie'</span>@<span class="token string">'%'</span><span class="token punctuation">;</span>
FLUSH PRIVILEGES<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="安装Mysql驱动">安装Mysql驱动</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 也可以自己下载 配置启动的时候带上</span>
yum <span class="token function">install</span> mysql-connector-java
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="安装Amabri服务">安装Amabri服务</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 安装ambari服务</span>
yum <span class="token function">install</span> ambari-server

<span class="token comment"># 配置ambari服务</span>
 ambari-server setup
 
 <span class="token comment"># 登录mysql</span>
 mysql -u ambari -p123456
 
 <span class="token comment"># 进行设置</span>
 use ambari<span class="token punctuation">;</span>
 <span class="token builtin class-name">source</span> /var/lib/ambari-server/resources/Ambari-DDL-MySQL-CREATE.sql<span class="token punctuation">;</span>

<span class="token comment"># 启动ambari服务</span>
ambari-server start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="卸载Amabri收费服务">卸载Amabri收费服务</h3>
<blockquote>
<p><code>SmartSense</code> 收费服务，移除掉。也可以安装后再移除,这里在安装前移除下。</p>
</blockquote>
<p><img src="https://bu.dusays.com/2021/01/09/dd16a9bf42838.png" alt=""></p>
<h4 id="移除前景">移除前景</h4>
<p><img src="https://bu.dusays.com/2021/01/09/74ea740ef7ab2.png" alt=""></p>
<h4 id="移除方式">移除方式</h4>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 查包</span>
<span class="token function">rpm</span> -qa <span class="token operator">|</span> greo ambri-agent

<span class="token comment">#查找 名称</span>
<span class="token function">find</span> / -name SMARTSENSE


<span class="token punctuation">[</span>root@master yum.repos.d<span class="token punctuation">]</span><span class="token comment"># find / -name SMARTSENSE</span>
/var/lib/ambari-server/resources/stacks/HDP/2.1/services/SMARTSENSE
/var/lib/ambari-agent/cache/stacks/HDP/2.1/services/SMARTSENSE
<span class="token punctuation">[</span>root@master yum.repos.d<span class="token punctuation">]</span><span class="token comment"># find / -name SMARTSENSE | xargs</span>
/var/lib/ambari-server/resources/stacks/HDP/2.1/services/SMARTSENSE /var/lib/ambari-agent/cache/stacks/HDP/2.1/services/SMARTSENSE
<span class="token punctuation">[</span>root@master yum.repos.d<span class="token punctuation">]</span><span class="token comment"># rm -rf /var/lib/ambari-server/resources/stacks/HDP/2.1/services/SMARTSENSE</span>
<span class="token punctuation">[</span>root@master yum.repos.d<span class="token punctuation">]</span><span class="token comment"># find / -name SMARTSENSE | xargs</span>
/var/lib/ambari-agent/cache/stacks/HDP/2.1/services/SMARTSENSE
<span class="token punctuation">[</span>root@master yum.repos.d<span class="token punctuation">]</span><span class="token comment"># rm -rf /var/lib/ambari-agent/cache/stacks/HDP/2.1/services/SMARTSENSE</span>
<span class="token punctuation">[</span>root@master yum.repos.d<span class="token punctuation">]</span><span class="token comment"># find / -name SMARTSENSE | xargs</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="移除完成">移除完成</h4>
<p><img src="https://bu.dusays.com/2021/01/09/cb5968605983c.png" alt=""></p>
<h2 id="搭建集群">搭建集群</h2>
<h3 id="启动Amabri">启动Amabri</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ambari-server start<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="登录Amabri">登录Amabri</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 可以替换为自己的服务器ip</span>
http://192.168.6.5:8080/<span class="token comment">#/login</span>

<span class="token comment"># 账号</span>
admin/admin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://bu.dusays.com/2021/01/09/238b96964f7a8.png" alt=""></p>
<h3 id="配置集群">配置集群</h3>
<h4 id="开始配置">开始配置</h4>
<p><img src="https://bu.dusays.com/2021/01/09/277a21a3ba9b3.png" alt=""></p>
<h4 id="设置名称">设置名称</h4>
<p><img src="https://bu.dusays.com/2021/01/09/3be5990edcc66.png" alt=""></p>
<h4 id="配置本地源">配置本地源</h4>
<p><img src="https://bu.dusays.com/2021/01/09/5e563eb51d5bb.png" alt=""></p>
<p><strong>Amabri 地址：</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">http://192.168.6.5/ambari/HDP/centos7/2.6.3.0-235/
http://192.168.6.5/ambari/HDP-UTILS/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="https://bu.dusays.com/2021/01/09/38de711ba4519.png" alt=""></p>
<p><strong>跟本地源要保持一致：</strong></p>
<p><img src="https://bu.dusays.com/2021/01/09/d637fa26b6ddf.png" alt=""></p>
<h4 id="主机名称">主机名称</h4>
<blockquote>
<p>与上边设置保持一致,否则会导致下一步<strong>注册失败</strong>。</p>
<p>密钥文件填写Master 上的key即可。</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 查看Key 命令，然后全部复制，粘贴即可</span>

<span class="token function">cat</span> /root/.ssh/id_rsa
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="https://bu.dusays.com/2021/01/09/7602438c31bfb.png" alt=""></p>
<h4 id="注册认证">注册认证</h4>
<p><img src="https://bu.dusays.com/2021/01/09/9e6dd807174c0.png" alt=""></p>
<h4 id="选择安装服务">选择安装服务</h4>
<p><img src="https://bu.dusays.com/2021/01/09/ebd023a3e6365.png" alt=""></p>
<p><img src="https://bu.dusays.com/2021/01/09/23d43c972107f.png" alt=""></p>
<h4 id="配置安装节点资源">配置安装节点资源</h4>
<p><img src="https://bu.dusays.com/2021/01/09/5d96c7993a735.png" alt=""></p>
<p><img src="https://bu.dusays.com/2021/01/09/9b145d403c0db.png" alt=""></p>
<h4 id="配置数据源连接">配置数据源连接</h4>
<p><img src="https://bu.dusays.com/2021/01/09/ed12644612a08.png" alt=""></p>
<blockquote>
<p><code>Hive-TEZ</code> 最少需要 <code>512MB</code> 否则警告。</p>
</blockquote>
<p><img src="https://bu.dusays.com/2021/01/09/bcbe24dd8d293.png" alt=""></p>
<p><img src="https://bu.dusays.com/2021/01/09/548beecbc34ca.png" alt=""></p>
<blockquote>
<p>安装中…</p>
</blockquote>
<p><img src="https://bu.dusays.com/2021/01/09/9c0b1eea9bac6.png" alt=""></p>
<p><img src="https://bu.dusays.com/2021/01/09/f0cffc6b75402.png" alt=""></p>
<h4 id="安装完成">安装完成</h4>
<blockquote>
<p>Hive 服务启动异常,重新启动下即可。</p>
</blockquote>
<p><img src="https://bu.dusays.com/2021/01/09/04887be6ec569.png" alt=""></p>
<blockquote>
<p>第一次启动如下：</p>
</blockquote>
<p><img src="https://bu.dusays.com/2021/01/09/5c859cc446264.png" alt=""></p>
<h2 id="初步认识">初步认识</h2>
<h3 id="HDFS">HDFS</h3>
<blockquote>
<p>Master 主节点 查看Hdfs</p>
</blockquote>
<p><img src="https://bu.dusays.com/2021/01/14/481c12fadc0a0.png" alt=""></p>
<blockquote>
<p>Node1 从节点，查看HDFS</p>
</blockquote>
<p><img src="https://bu.dusays.com/2021/01/14/b80bceabdca15.png" alt=""></p>
<h3 id="Hive">Hive</h3>
<blockquote>
<p>Node1 从节点，切换hive 用户，登录hive数据库。</p>
</blockquote>
<p><img src="https://bu.dusays.com/2021/01/14/e19d77a7654f5.png" alt=""></p>
<h3 id="Hbase">Hbase</h3>
<p><img src="https://bu.dusays.com/2021/01/14/2fe92ba88a314.png" alt=""></p>
<h3 id="Spark">Spark</h3>
<p><img src="https://bu.dusays.com/2021/01/14/fd15d593fcbb4.png" alt=""></p>
<h3 id="PySpark">PySpark</h3>
<p><img src="https://bu.dusays.com/2021/01/14/cb88147a9ea3e.png" alt=""></p>
<h3 id="Amabri-Server">Amabri_Server</h3>
<p><img src="https://bu.dusays.com/2021/01/14/c9e197ef772b2.png" alt=""></p>

</div>

<!--上一篇 下一篇-->


  <div class="paginator">
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
         <!-- 先找到与当前文字相同的目录 -->
        
        
          
          
        
          
          
        
          
          
        
          
          
        
          
           <!-- 在找到当前文章所在的 index -->
          
          
            
            


            

          
            
            


            

          
            
            


            

          
            
            


             <!-- 下一篇文章 -->
            <div class="next">
<!--              <span>下一章</span>-->
              <span class="material-icons left"> ⇦ </span>

              <a href="/posts/3762b1a0.html"> Ambari权限解决方案</a>
            </div>
            

          
            
            


            

          
          
        
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
  </div>




  <div class="book-comments">
    


    <script src="https://giscus.app/client.js"
            data-repo="A2Data/itdocs_giscus"
            data-repo-id="R_kgDOHPLRRw"
            data-category="Announcements"
            data-category-id="DIC_kwDOHPLRR84COyJ5"
            data-mapping="pathname"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="top"
            data-theme="light"
            data-lang="zh-CN"
            data-loading="lazy"
            crossorigin="anonymous"
            async>
    </script>






  </div>



<script src="/js/book-post.js"></script>



<div class="book-footer">
  <div class="pure">
    <script src="https://pv.sohu.com/cityjson?ie=utf-8"></script>
    <script>
      var getOSAndBrowser = function () {
        var os = navigator.platform;
        var userAgent = navigator.userAgent;
        var info = "";
        var tempArray = "";
        if (os.indexOf("Win") > -1) {
          if (userAgent.indexOf("Windows NT 5.0") > -1) {
            info += "Win2000"
          } else if (userAgent.indexOf("Windows NT 5.1") > -1) {
            info += "WinXP"
          } else if (userAgent.indexOf("Windows NT 5.2") > -1) {
            info += "Win2003"
          }
          else if (userAgent.indexOf("Windows NT 6.0") > -1) {
            info += "WindowsVista"
          } else if (userAgent.indexOf("Windows NT 6.1") > -1 || userAgent.indexOf("Windows 7") > -1) {
            info += "Win7"
          } else if (userAgent.indexOf("Windows NT 6.2") > -1 || userAgent.indexOf("Windows 8") > -1) {
            info += "Win8"
          }
          else if (userAgent.indexOf("Windows NT 6.3") > -1 || userAgent.indexOf("Windows 8.1") > -1) {
            info += "Win8.1"
          } else if (userAgent.indexOf("Windows NT 10.0") > -1 || userAgent.indexOf("Windows 10") > -1) {
            info += "Win10"
          } else {
            info += "Other"
          }
        } else if (os.indexOf("Mac") > -1) {
          info += "Mac"
        } else if (os.indexOf("X11") > -1) {
          info += "Unix"
        } else if (os.indexOf("Linux") > -1) {
          info += "Linux"
        } else { info += "Other" } info += "/";
        var isOpera = userAgent.indexOf("Opera") > -1;
        var isIE = userAgent.indexOf("compatible") > -1 && userAgent.indexOf("MSIE") > -1 && !isOpera;
        var isEdge = userAgent.toLowerCase().indexOf("edge") > -1 && !isIE;
        var isIE11 = (userAgent.toLowerCase().indexOf("trident") > -1 && userAgent.indexOf("rv") > -1);
        if (/[Ff]irefox(\/\d+\.\d+)/.test(userAgent)) {
          tempArray = /([Ff]irefox)\/(\d+\.\d+)/.exec(userAgent);
          info += tempArray[1] + tempArray[2]
        } else if (isIE) {
          var version = "";
          var reIE = new RegExp("MSIE (\\d+\\.\\d+);");
          reIE.test(userAgent);
          var fIEVersion = parseFloat(RegExp["$1"]);
          if (fIEVersion == 7) {
            version = "IE7"
          } else if (fIEVersion == 8) {
            version = "IE8"
          } else if (fIEVersion == 9) { version = "IE9" } else if (fIEVersion == 10) { version = "IE10" } else { version = "0" } info += version
        } else if (isEdge) { info += "Edge" } else if (isIE11) { info += "IE11" } else if (/[Cc]hrome\/\d+/.test(userAgent)) { tempArray = /([Cc]hrome)\/(\d+)/.exec(userAgent); info += tempArray[1] + tempArray[2] } else if (/[Vv]ersion\/\d+\.\d+\.\d+(\.\d)* *[Ss]afari/.test(userAgent)) { tempArray = /[Vv]ersion\/(\d+\.\d+\.\d+)(\.\d)* *([Ss]afari)/.exec(userAgent); info += tempArray[3] + tempArray[1] } else if (/[Oo]pera.+[Vv]ersion\/\d+\.\d+/.test(userAgent)) { tempArray = /([Oo]pera).+[Vv]ersion\/(\d+)\.\d+/.exec(userAgent); info += tempArray[1] + tempArray[2] } else { info += "unknown" } return info
      };
      document.write("欢迎来自" + returnCitySN["cname"] + "的朋友");
      document.write(" <br> 您的 IP 是:" + returnCitySN["cip"]);
      document.write(",您使用的是:" + getOSAndBrowser());
    </script>
  </div>
  <div>
    <span id="timeDate"></span>
    <i class="fa fa-heartbeat" aria-hidden="true" style="color:rgba(255,0,0,.9)" ></i>
    <span id="times"></span>
    <i class="fa fa-heartbeat" aria-hidden="true" style="color:rgba(255,0,0,.9)" ></i>
    <script>
      var now = new Date();
      function createtime() {
        var grt= new Date("07/21/2021 00:00:00");  //在此处修改你的建站时间，格式：月/日/年 时:分:秒
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        // document.getElementById("timeDate").innerHTML = "本站已运行 "+dnum+" 天 ";
        document.getElementById("times").innerHTML = "本站已运行 "+dnum+" 天 "+ hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
      }
      setInterval("createtime()",250);
    </script>

  </div>
  <div class="github-badge">
    <a style="color: #fff" rel="license" href="https://www.a2data.cn/" target="_blank" title="DataScience提供内容创作">
      <span class="badge-subject">Copyright©2021</span><span class="badge-value bg-blueviolet">DataBricks</span></a>
  </div>
  <div class="github-badge">
    <a style="color: #fff" rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="本站点采用知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议进行许可">
      <span class="badge-subject"><i class="fa fa-copyright"></i></span><span class="badge-value bg-lightgrey">BY-NC-SA 4.0</span></a>
  </div>
  <div class="github-badge">
    <a style="color: #fff" rel="license" href="https://beian.miit.gov.cn/" target="_blank" title="[互联网文档]">
      <span class="badge-subject">京ICP</span><span class="badge-value bg-red">备20010978号-3</span></a>
  </div>
</div>

<script>
  function listennSidebarTOC() {
    const navItems = document.querySelectorAll(".toc li");
    if (!navItems.length) return;
    const sections = [...navItems].map((element) => {
      const link = element.querySelector(".toc-link");
      const target = document.getElementById(
              decodeURI(link.getAttribute("href")).replace("#", "")
      );
      link.addEventListener("click", (event) => {
        event.preventDefault();
        window.scrollTo({
          top: target.offsetTop,
          behavior: "smooth"
        });
      });
      return target;
    });

    function activateNavByIndex(target) {
      if (target.classList.contains("active-current")) return;

      document.querySelectorAll(".toc .active").forEach((element) => {
        element.classList.remove("active", "active-current");
      });
      target.classList.add("active", "active-current");
      $('.toc-link').removeClass('active_b');
      let parent = target.parentNode;
      while (!parent.matches(".toc")) {
        if (parent.matches("li")) parent.classList.add("active");
        parent = parent.parentNode;
      }
    }

    function findIndex(entries) {
      let index = 0;
      let entry = entries[index];
      if (entry.boundingClientRect.top > 0) {
        index = sections.indexOf(entry.target);
        return index === 0 ? 0 : index - 1;
      }
      for (; index < entries.length; index++) {
        if (entries[index].boundingClientRect.top <= 0) {
          entry = entries[index];
        } else {
          return sections.indexOf(entry.target);
        }
      }
      return sections.indexOf(entry.target);
    }

    function createIntersectionObserver(marginTop) {
      marginTop = Math.floor(marginTop + 10000);
      let intersectionObserver = new IntersectionObserver(
              (entries, observe) => {
                let scrollHeight = document.documentElement.scrollHeight;
                if (scrollHeight > marginTop) {
                  observe.disconnect();
                  createIntersectionObserver(scrollHeight);
                  return;
                }
                let index = findIndex(entries);
                activateNavByIndex(navItems[index]);
              },
              {
                rootMargin: marginTop + "px 0px -100% 0px",
                threshold: 0,
              }
      );
      sections.forEach((element) => {
        element && intersectionObserver.observe(element);
      });
    }
    createIntersectionObserver(document.documentElement.scrollHeight);
  }

  document.addEventListener("DOMContentLoaded", listennSidebarTOC);
  document.addEventListener("pjax:success", listennSidebarTOC);
</script>

<style>
  .github-badge {
    display:inline-block;
    border-radius:4px;
    text-shadow:none;
    font-size:13px;
    color:#fff;
    line-height:15px;
    background-color:#ABBAC3;
    margin-bottom:5px;
  }
  .github-badge .badge-subject {
    display:inline-block;
    background-color:#4D4D4D;
    padding:4px 4px 4px 6px;
    border-top-left-radius:4px;
    border-bottom-left-radius:4px;
  }
  .github-badge .badge-value {
    display:inline-block;
    padding:4px 6px 4px 4px;
    border-top-right-radius:4px;
    border-bottom-right-radius:4px;
  }
  .github-badge .bg-brightgreen {
    background-color:#4DC820 !important;
  }
  .github-badge .bg-orange {
    background-color:#FFA500 !important;
  }
  .github-badge .bg-yellow {
    background-color:#D8B024 !important;
  }
  .github-badge .bg-blueviolet {
    background-color:#8833D7 !important;
  }
  .github-badge .bg-pink {
    background-color:#F26BAE !important;
  }
  .github-badge .bg-red {
    background-color:#e05d44 !important;
  }
  .github-badge .bg-blue {
    background-color:#007EC6 !important;
  }
  .github-badge .bg-lightgrey {
    background-color:#9F9F9F !important;
  }
  .github-badge .bg-grey, .github-badge .bg-gray {
    background-color:#555 !important;
  }
  .github-badge .bg-lightgrey, .github-badge .bg-lightgray {
    background-color:#9f9f9f !important;
  }
</style>

        </div>
      </div>
      <div class="column col-2 hide-lg">
        <div class="book-post-info">
  
    <div class="book-post-meta">

  <div class="author">

    <!-- Author image -->
    <div class="author-img">
      
        <figure class="avatar avatar-lg">
          <img src="/jack.png" alt="...">
        </figure>
      
    </div>

    <!-- Author title -->
    <div class="author-title">
      <div>JackFeng</div>
      <div>2021-06-21</div>
    </div>
  </div>

  
    <div class="divider"></div>

    <div class="link">
      <a class="category-link" href="/categories/Hadoop/">Hadoop</a>

      <a class="tag-none-link" href="/tags/Ambari/" rel="tag">Ambari</a>
    </div>

  

  <div class="divider"></div>
</div>

  
  <div class="book-tocbot">
</div>
<div class="book-tocbot-menu">
  <a class="book-toc-expand" onclick="expand_toc()">Expand all</a>
  <a onclick="go_top()">Back to top</a>
  <a onclick="go_bottom()">Go to bottom</a>
</div>


<script src="/js/book-toc.js"></script>


</div>

      </div>
    </div>
  </div>

  <a class="off-canvas-overlay" onclick="hide_canvas()"></a>
</div>

<script>(function (w, d, s, id) {
            if (typeof (w.webpushr) !== 'undefined') return; w.webpushr = w.webpushr || function () { (w.webpushr.q = w.webpushr.q || []).push(arguments) }; var js, fjs = d.getElementsByTagName(s)[0]; js = d.createElement(s); js.id = id; js.async = 1; js.src = "https://cdn.webpushr.com/app.min.js";fjs.parentNode.appendChild(js);}(window, document, 'script', 'webpushr-jssdk'));webpushr('setup', { 'key': 'BFx7WHz0rVpOVN8atT9J94hKkLItiL6wLbP5k5sJJtdQyWv9pryOWtscXADG3vfDUZzp89H1H3q34GSQXcr23Gw' });</script></body>
</html>


<script src="/js/book.js"></script>


<link rel="stylesheet" href="/css/prism.css">


<script src="/js/prism.js"></script>




<!--动态线条-->
<!--<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/canvas-nest.min.js"></script>-->

<!--彩带-->
<!--<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/piao.js"></script>-->
